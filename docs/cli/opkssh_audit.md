## opkssh audit

Validate policy file entries against provider definitions

### Synopsis

Audit validates all entries in /etc/opk/auth_id and ~/.opk/auth_id against the provider definitions in /etc/opk/providers.

The audit command checks that:
  - Each issuer in policy files is defined in the providers file
  - The protocol (http:// or https://) exactly matches between policy and provider files
  - Predefined aliases (google, azure, microsoft, gitlab, hello) are correctly used

Results are reported with the following status:
  ✓ SUCCESS  - Entry is valid
  ⚠ WARNING  - Entry is valid but uses an alias instead of full URL
  ✗ ERROR    - Entry has issues (missing provider, protocol mismatch, etc.)

Exit code: 0 if all entries are valid, 1 if any warnings or errors are found.

```
opkssh audit [flags]
```

### Examples

```
  opkssh audit
```

### Options

```
  -h, --help                    help for audit
      --policy-file string      Path to policy file (default "/etc/opk/auth_id")
      --providers-file string   Path to providers file (default "/etc/opk/providers")
      --skip-user-policy        Skip auditing user policy file (~/.opk/auth_id)
```

### SEE ALSO

* [opkssh](opkssh.md)	 - SSH with OpenPubkey

###### Auto generated by spf13/cobra on 23-Nov-2025
